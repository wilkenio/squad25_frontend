<app-sidebar></app-sidebar>
<app-menu></app-menu>

<div class="container">
  <!-- Cabeçalho da Tabela -->
  <div class="row header">
    <div class="cell">Descrição</div>
    <div class="cell">Saldo Inicial</div>
    <div class="cell">Receitas</div>
    <div class="cell">Despesas</div>
    <div class="cell">Saldo</div>
    <div class="cell">Previsto</div>
    <div class="cell">Ações</div>
  </div>

  <!-- Linhas com os dados -->
  <div class="row" *ngFor="let conta of contas; let i = index">
    <div class="cell">{{ conta.descricao }}</div>
    <div class="cell">{{ conta.saldoInicial | currency:'BRL' }}</div>
    <div class="cell">{{ conta.receitas | currency:'BRL' }}</div>
    <div class="cell">{{ conta.despesas | currency:'BRL' }}</div>
    <div class="cell">{{ conta.saldo | currency:'BRL' }}</div>
    <div class="cell">{{ conta.previsto | currency:'BRL' }}</div>
    <div class="cell" style="position: relative;">
      <button class="menu-btn" (click)="toggleMenu(i)">⋯</button>

      <div class="dropdown-menu" *ngIf="showMenuIndex === i">
        <button class="dropdown-item top" (click)="editarConta(conta)">Editar</button>
        <button class="dropdown-item" (click)="verExtrato(conta)">Extrato</button>
        <div class="placeholder-box"></div>
        <button class="dropdown-item bottom" (click)="excluirConta(conta)">Excluir</button>
      </div>
    </div>
  </div>

  <!-- Totais -->
  <div class="row totals">
    <div class="cell"></div>
    <div class="cell"></div>
    <div class="cell"><strong>Receitas totais:</strong> {{ getTotal('receitas') | currency:'BRL' }}</div>
    <div class="cell"><strong>Despesas totais:</strong> {{ getTotal('despesas') | currency:'BRL' }}</div>
    <div class="cell"><strong>Saldo total:</strong> {{ getTotal('saldo') | currency:'BRL' }}</div>
    <div class="cell"><strong>Previsto:</strong> {{ getTotal('previsto') | currency:'BRL' }}</div>
    <div class="cell"></div>
  </div>
</div>
