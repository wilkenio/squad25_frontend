<section id="cadastro">
  <div class="contain-1">
    <img class="logo-contain-1" src="logo-branca-lumen.png" alt="">
  </div>

  <div class="contain-2">
    <div class="cadastro-container">
      <h2 class="titulo">Cadastro</h2>

      <p class="Dados">Nome:</p>
      <input type="text" [(ngModel)]="nome" placeholder="Digite seu nome" required>

      <p class="Dados">Email:</p>
      <input type="email" [(ngModel)]="email" placeholder="Digite seu email" required>

      <p class="Dados">Senha:</p>
      <div class="password-container">
        <input
          id="senha"
          [type]="mostrarSenha ? 'text' : 'password'"
          [(ngModel)]="senhaTemp"
          (input)="validarSenha()"
          (focusout)="verificarFocoSenha()"
          placeholder="Crie uma senha"
          required
        >
        <span class="input-group-text">
          <i *ngIf="!mostrarSenha" class="bi bi-eye" (click)="mostrarSenha = !mostrarSenha"></i>
          <i *ngIf="mostrarSenha" class="bi bi-eye-slash" (click)="mostrarSenha = !mostrarSenha"></i>
        </span>
      </div>

      <!-- Exibe apenas um requisito por vez, após 6 caracteres -->
      <p class="senha-requisito" *ngIf="exibirRequisitos && requisitoAtual">{{ requisitoAtual }}</p>

      <p class="Dados">Confirmar Senha:</p>
      <div class="password-container">
        <input
          id="confirmarSenha"
          [type]="mostrarSenha ? 'text' : 'password'"
          [(ngModel)]="confirmarSenhaTemp"
          (input)="validarConfirmacaoSenha()"
          (focusout)="verificarFocoSenha()"
          placeholder="Repita a senha"
          required
        >
        <span class="input-group-text">
          <i *ngIf="!mostrarSenha" class="bi bi-eye" (click)="mostrarSenha = !mostrarSenha"></i>
          <i *ngIf="mostrarSenha" class="bi bi-eye-slash" (click)="mostrarSenha = !mostrarSenha"></i>
        </span>
      </div>

      <!-- Exibe mensagem de erro da confirmação apenas após 6 caracteres -->
      <p class="senha-requisito" *ngIf="exibirErroConfirmacao">{{ mensagemErroConfirmacao }}</p>

      <div class="termos">
        <input type="checkbox" [(ngModel)]="aceitouTermos" id="termos">
        <label for="termos">
          Li e concordo com os
          <a target="_blank" [routerLink]="'/termos-de-uso'">termos de uso</a>
        </label>
      </div>

      <p class="mensagem-retorno" *ngIf="mensagemRetorno">{{ mensagemRetorno }}</p>

      <div class="g-recaptcha" [attr.data-sitekey]="siteKey" id="recaptcha"></div>
      <div *ngIf="carregando" class="spinner"></div>

      <button (click)="onCadastro()">Cadastrar</button>

      <a class="pagina-login" [routerLink]="'/login'">Já tem uma conta? Faça login</a>
    </div>
  </div>
</section>
